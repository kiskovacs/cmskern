# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# ~~ Home page
GET     /                                       Application.index
GET     /{typeName}/list                        Application.list

# ~~ Import secure routes (for login/logout)
*       /                                       module:secure

# ~~ REST API for (content) types
GET     /schema/{name}/form.json                ContentTypesApi.asFormDescriptor
GET     /schema/{id}/edit                       ContentTypesApi.edit
GET     /schema/{id}                            ContentTypesApi.get
PUT     /schema/{id}                            ContentTypesApi.update
GET     /schema                                 ContentTypesApi.list
POST    /schema                                 ContentTypesApi.create
DELETE  /schema/{id}                            ContentTypesApi.delete

# ~~ Call-Outs (for dialog content and referencing other nodes)
GET     /callouts/{<.*>name}                    callouts.Callouts.get

# ~~ Helper as used by the call-out workflow
GET     /helper/{controller}/{action}           helper.{controller}.{action}

# ~~ Access to binary objects (i.e. images)
GET     /blobs                                  Blobs.listAssets
GET     /blobs/forTiny.html                     Blobs.listAssetsForTinyMCE
GET     /blobs/o/{id}                           Blobs.getBinaryById
GET     /blobs/n/{name}                         Blobs.getByName
POST    /blobs                                  Blobs.upload


# ~~ Import CRUD routes (for admin area)
*       /admin                                  module:crud

# ~~ REST API for content
GET     /{type}/{id}/edit                       ContentNodes.edit
GET     /{type}/search                          ContentNodes.search
GET     /{type}/edit                            ContentNodes.blank
GET     /{type}/{id}/full                       ContentNodesApi.getFull
GET     /{type}/{id}/img/o                      ContentNodesApi.redirectToBinary
GET     /{type}/{id}                            ContentNodesApi.getBody
PUT     /{type}/{id}                            ContentNodesApi.update
POST    /{type}                                 ContentNodesApi.create
DELETE  /{type}/{id}                            ContentNodesApi.delete
GET     /{type}/{id}/versions                   ContentNodes.versions


# ~~ Ignore favicon requests
GET     /favicon.ico                            404

# ~~ Map static resources from the /app/public folder to the /public path
GET     /public/                                staticDir:public
GET     /test/                                  staticDir:test
