#{extends 'main.html' /}
#{set title:'Content Overview' /}

#{set 'moreScripts'}
<script type="text/javascript" src="@{'/public/javascripts/jquery/jquery-ui-1.8.18.custom.min.js'}"></script>
#{/set}


<table class="table table-striped">
    <thead>
    <tr>
        <th width="25%">ID</th>
        <th width="15%">Version</th>
        <th width="30%">Last Modified</th>
        <th width="30%">Actions</th>
    </tr>
    </thead>
    <tbody>
    #{list items:contents, as:'node'}
    <tr #{if node.id == request.params.get("highlightId")}class="highlight"#{/if}>
    <td>
        #{secure.check "editor,admin"}<a href="@{ContentNodes.edit(node.type, node.id)}">#{/secure.check}
        ${node.id}
        #{secure.check "editor,admin"}</a>#{/secure.check}
    </td>
    <td>
        ${node.version}
    </td>
    <td>
        ${node.modified.format('yyyy-MM-dd (HH:mm:ss)')}
    </td>
    <td>
        <a href="@{ContentNodesApi.getBody(node.type, node.id)}"><i class="icon-eye-open" title="View Content JSON"></i></a>
        <a href="@{ContentNodesApi.getFull(node.type, node.id)}"><i class="icon-info-sign" title="View Complete JSON"></i></a>
        #{secure.check "editor,admin"}
        <a href="@{ContentNodes.edit(node.type, node.id)}"><i class="icon-pencil" title="Edit"></i></a>
        <a href="@{ContentNodes.versions(node.type, node.id)}"><i class="icon-road" title="Show Versions"></i></a>
        #{/secure.check}
        #{secure.check "admin"}
        <a href="@{ContentNodes.delete(node.type, node.id)}"><i class="icon-trash" title="Delete"></i></a>
        #{/secure.check}
    </td>
    </tr>
    #{/list}
    </tbody>
</table>